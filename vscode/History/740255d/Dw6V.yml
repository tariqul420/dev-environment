entryPoints:
  web:
    address: ':80'
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
  websecure:
    address: ':443'

providers:
  docker:
    exposedByDefault: false
    network: proxy
    watch: true

certificatesResolvers:
  letsencrypt:
    acme:
      email: email@example.com
      storage: /acme.json
      httpChallenge: # <-- use http-01 for Cloudflare Proxied
        entryPoint: web # challenge served on :80; Traefik excludes ACME from redirect

# (Optional) dashboard at :8080 — handy for debugging. Remove if you don’t want it.
api:
  insecure: true
  dashboard: true

# Logs (keep light in prod; DEBUG only if needed)
log:
  level: INFO

accessLog:
  format: json
  bufferingSize: 0
