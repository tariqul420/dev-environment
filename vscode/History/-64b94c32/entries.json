{"version":1,"resource":"file:///home/tariqul/Projects/natural-sefa-v2/lib/actions/customer.action.ts","entries":[{"id":"5Q8H.ts","timestamp":1758967817014},{"id":"Lyie.ts","timestamp":1758967860232},{"id":"Hql8.ts","timestamp":1758967934111},{"id":"HMb3.ts","timestamp":1758967958252},{"id":"py47.ts","source":"Chat Edit: 'import { prisma } from \"../prisma\";\nimport { userId } from \"../utils/auth\";\n\nexport const getCustomerOrderReport = cache(async () => {\n  try {\n    await requireCustomer();\n    const id = await userId();\n\n    // Get all orders for the customer\n    const orders = await prisma.order.findMany({ where: { user.id: id } });\n\n    // Calculate statistics\n    const totalOrders = orders.length;\n    const deliveredOrders = orders.filter(\n      (order) => order.status === \"delivered\" || order.status === \"confirmed\",\n    ).length;\n    const cancelledOrders = orders.filter(\n      (order) => order.status === \"cancelled\",\n    ).length;\n    const ongoingOrders = orders.filter(\n      (order) =>\n        order.status !== \"delivered\" &&\n        order.status !== \"confirmed\" &&\n        order.status !== \"cancelled\",\n    ).length;\n\n    return {\n      totalOrders,\n      deliveredOrders,\n      ongoingOrders,\n      cancelledOrders,\n    };\n  } catch (error) {\n    logger.error(\"Error fetching order report:\", error);\n    throw new Error(\"Failed to fetch customer order report\");\n  }\n});\n \n\n use prisma and follow schema.prisma'","timestamp":1758968059310},{"id":"QjLc.ts","source":"Chat Edit: 'import { prisma } from \"../prisma\";\nimport { userId } from \"../utils/auth\";\n\nexport const getCustomerOrderReport = cache(async () => {\n  try {\n    await requireCustomer();\n    const id = await userId();\n\n    // Get all orders for the customer\n    const orders = await prisma.order.findMany({ where: { user.id: id } });\n\n    // Calculate statistics\n    const totalOrders = orders.length;\n    const deliveredOrders = orders.filter(\n      (order) => order.status === \"delivered\" || order.status === \"confirmed\",\n    ).length;\n    const cancelledOrders = orders.filter(\n      (order) => order.status === \"cancelled\",\n    ).length;\n    const ongoingOrders = orders.filter(\n      (order) =>\n        order.status !== \"delivered\" &&\n        order.status !== \"confirmed\" &&\n        order.status !== \"cancelled\",\n    ).length;\n\n    return {\n      totalOrders,\n      deliveredOrders,\n      ongoingOrders,\n      cancelledOrders,\n    };\n  } catch (error) {\n    logger.error(\"Error fetching order report:\", error);\n    throw new Error(\"Failed to fetch customer order report\");\n  }\n});\n \n\n use prisma and follow schema.prisma'","timestamp":1758968070287},{"id":"xRAJ.ts","source":"Apply all safe fixes (Biome)","timestamp":1758968095907},{"id":"6VRp.ts","timestamp":1758968127488},{"id":"qVUX.ts","timestamp":1758968142587},{"id":"v5PT.ts","timestamp":1758968153780},{"id":"Gv5E.ts","timestamp":1758968713050},{"id":"IiMS.ts","timestamp":1758968730593},{"id":"lGBj.ts","timestamp":1758968741515},{"id":"PP8r.ts","timestamp":1758970534681},{"id":"U1mf.ts","source":"Chat Edit: 'customer/page.tsx ar ki ki add kore jai jata customer er jonno usefull hobe'","timestamp":1758970600775},{"id":"fvLx.ts","timestamp":1758970691543},{"id":"JiV3.ts","timestamp":1758971258584},{"id":"8uLM.ts","timestamp":1758971284332},{"id":"vWgR.ts","source":"Chat Edit: 'in customer.action.ts fixe all error'","timestamp":1758971336113},{"id":"q09u.ts","source":"Chat Edit: 'in customer.action.ts fixe all error'","timestamp":1758971360170},{"id":"GcpR.ts","source":"Chat Edit: 'in customer.action.ts fixe all error'","timestamp":1758971391818},{"id":"zsId.ts","source":"Chat Edit: 'in customer.action.ts fixe all error'","timestamp":1758971409927},{"id":"yhBH.ts","timestamp":1758971456196}]}